# Run: ./run.sh
# Hint: don't try to docker-compose up, that should break the terminal.

FROM shyouhei/dev-base:latest
MAINTAINER shyouhei@ruby-lang.org

RUN apt-get update \
 && apt-get install -yy --no-install-recommends --no-install-suggests \
        xz-utils pixz pigz nkf less lv lzop pcregrep jq sl tree \
        openssh-client gist zsh vim tmux xsel \
 && apt-get upgrade -y \
 && apt-get clean \
 && apt-get autoremove \
 && rm -rf /var/lib/apt/lists/*

RUN mkdir -p /tmp/.X11-unix
USER shyouhei
VOLUME ["/home/shyouhei", "/tmp/.X11-unix"]
WORKDIR /home/shyouhei

ENTRYPOINT ["/usr/bin/tmux"]
CMD ["-2u", "new-session"]
