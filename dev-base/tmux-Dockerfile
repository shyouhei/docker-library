# Run: ./run.sh
# Hint: don't try to docker-compose up, that should break the terminal.

FROM shyouhei/dev-base:latest
MAINTAINER shyouhei@ruby-lang.org

RUN apt-get update \
 && apt-get install \
        xz-utils pixz pigz nkf less lv lzop pcregrep jq sl tree \
        openssh-client gist zsh vim tmux xsel sudo \
 && apt-get upgrade \
 && apt-get autoremove

RUN mkdir -p /tmp/.X11-unix
RUN usermod -a -G sudo shyouhei
RUN passwd -d shyouhei
USER shyouhei
VOLUME ["/home/shyouhei", "/tmp/.X11-unix"]
WORKDIR /home/shyouhei

ENTRYPOINT ["/usr/bin/tmux"]
CMD ["-2u", "new-session"]
